{"ast":null,"code":"import _slicedToArray from\"/Users/wes/Projects/Programming/Week13/strangers-things/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Posts=function Posts(_ref){var posts=_ref.posts,token=_ref.token;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),searchTerm=_useState2[0],setSearchTerm=_useState2[1];function postMatches(post,text){var title=post.title,description=post.description,price=post.price;if(!searchTerm)return true;return post.title.toLowerCase().includes(text)||post.description.toLowerCase().includes(text)||post.price.toLowerCase().includes(text);}var filteredPosts=posts.filter(function(post){return postMatches(post,searchTerm);});var postsToDisplay=searchTerm.length?filteredPosts:posts;useEffect(function(){},[searchTerm]);useEffect(function(){// force repaint\n},[posts]);return/*#__PURE__*/_jsxs(\"div\",{id:\"outer div element\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"searchBar\",type:\"text\",placeholder:\"search\",onChange:function onChange(ev){return setSearchTerm(ev.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),token?/*#__PURE__*/_jsx(Link,{to:\"/posts/create-post\",children:/*#__PURE__*/_jsx(\"button\",{id:\"postItemButton\",children:\"Post an Item\"})}):/*#__PURE__*/_jsx(\"h3\",{children:\"Login to post an item\"}),postsToDisplay.map(function(post){var description=post.description,location=post.location,price=post.price,title=post.title,_id=post._id,isAuthor=post.isAuthor,willDeliver=post.willDeliver;return/*#__PURE__*/_jsxs(\"div\",{id:\"notecard\",children:[/*#__PURE__*/_jsx(\"h3\",{children:title}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Description: \",description]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Price: \",price]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Location: \",location]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Will Deliver: \",willDeliver?'Yes':'No']}),isAuthor?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Link,{to:\"/posts/\".concat(_id),children:/*#__PURE__*/_jsx(\"button\",{children:\"View\"})})}):/*#__PURE__*/_jsx(Link,{to:\"/posts/\".concat(_id),children:/*#__PURE__*/_jsx(\"button\",{children:\"View\"})})]},_id);})]});};export default Posts;","map":{"version":3,"names":["React","useEffect","useState","Link","Posts","posts","token","searchTerm","setSearchTerm","postMatches","post","text","title","description","price","toLowerCase","includes","filteredPosts","filter","postsToDisplay","length","ev","target","value","map","location","_id","isAuthor","willDeliver"],"sources":["/Users/wes/Projects/Programming/Week13/strangers-things/src/components/Posts.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nconst Posts = ({ posts, token }) => {\n\n  const [searchTerm, setSearchTerm] = useState('');\n\n  function postMatches(post, text) {\n\n    const { title , description , price } = post\n  \n    if (!searchTerm) return true;\n\n    return (\n      post.title.toLowerCase().includes(text) ||\n      post.description.toLowerCase().includes(text) ||\n      post.price.toLowerCase().includes(text)\n    )\n  }\n\n  const filteredPosts = posts.filter(post => postMatches(post, searchTerm));\n  const postsToDisplay = searchTerm.length ? filteredPosts : posts;\n\n  useEffect(() => {\n    \n  }, [searchTerm])\n\n  useEffect(() => {\n    // force repaint\n  }, [posts])\n\n  return (\n\n\n    <div id='outer div element'>\n      \n      <input\n        id='searchBar'\n        type='text'\n        placeholder='search'\n        onChange={(ev) => setSearchTerm(ev.target.value)}\n      />\n\n      <br></br>\n\n      { token ? \n        (\n            <Link to='/posts/create-post'><button id='postItemButton'>Post an Item</button></Link>\n          \n        ) \n        : \n        (\n          <h3>Login to post an item</h3>\n        )\n      }\n\n      {\n        postsToDisplay.map((post) => {\n          const { description, location, price, title, _id, isAuthor, willDeliver } = post;\n          return (\n            <div id='notecard' key={_id}>\n              <h3>{title}</h3>\n              <p>Description: {description}</p>\n              <p>Price: {price}</p>\n              <p>Location: {location}</p>\n              <p>Will Deliver: {willDeliver ? 'Yes': 'No'}</p>\n              {\n                isAuthor ? (\n                  <>\n                    <Link to={`/posts/${_id}`}><button>View</button></Link>\n                    \n                  </>\n                ) : (\n                  <Link to={`/posts/${_id}`}><button>View</button></Link>\n                )\n              }\n            </div>\n          )\n        })\n      }\n    </div>\n  )\n}\n\nexport default Posts;"],"mappings":"6IAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,IAAT,KAAqB,kBAArB,C,6IAEA,GAAMC,MAAK,CAAG,QAARA,MAAQ,MAAsB,IAAnBC,MAAmB,MAAnBA,KAAmB,CAAZC,KAAY,MAAZA,KAAY,CAElC,cAAoCJ,QAAQ,CAAC,EAAD,CAA5C,wCAAOK,UAAP,eAAmBC,aAAnB,eAEA,QAASC,YAAT,CAAqBC,IAArB,CAA2BC,IAA3B,CAAiC,CAE/B,GAAQC,MAAR,CAAwCF,IAAxC,CAAQE,KAAR,CAAgBC,WAAhB,CAAwCH,IAAxC,CAAgBG,WAAhB,CAA8BC,KAA9B,CAAwCJ,IAAxC,CAA8BI,KAA9B,CAEA,GAAI,CAACP,UAAL,CAAiB,MAAO,KAAP,CAEjB,MACEG,KAAI,CAACE,KAAL,CAAWG,WAAX,GAAyBC,QAAzB,CAAkCL,IAAlC,GACAD,IAAI,CAACG,WAAL,CAAiBE,WAAjB,GAA+BC,QAA/B,CAAwCL,IAAxC,CADA,EAEAD,IAAI,CAACI,KAAL,CAAWC,WAAX,GAAyBC,QAAzB,CAAkCL,IAAlC,CAHF,CAKD,CAED,GAAMM,cAAa,CAAGZ,KAAK,CAACa,MAAN,CAAa,SAAAR,IAAI,QAAID,YAAW,CAACC,IAAD,CAAOH,UAAP,CAAf,EAAjB,CAAtB,CACA,GAAMY,eAAc,CAAGZ,UAAU,CAACa,MAAX,CAAoBH,aAApB,CAAoCZ,KAA3D,CAEAJ,SAAS,CAAC,UAAM,CAEf,CAFQ,CAEN,CAACM,UAAD,CAFM,CAAT,CAIAN,SAAS,CAAC,UAAM,CACd;AACD,CAFQ,CAEN,CAACI,KAAD,CAFM,CAAT,CAIA,mBAGE,aAAK,EAAE,CAAC,mBAAR,wBAEE,cACE,EAAE,CAAC,WADL,CAEE,IAAI,CAAC,MAFP,CAGE,WAAW,CAAC,QAHd,CAIE,QAAQ,CAAE,kBAACgB,EAAD,QAAQb,cAAa,CAACa,EAAE,CAACC,MAAH,CAAUC,KAAX,CAArB,EAJZ,EAFF,cASE,aATF,CAWIjB,KAAK,cAED,KAAC,IAAD,EAAM,EAAE,CAAC,oBAAT,uBAA8B,eAAQ,EAAE,CAAC,gBAAX,0BAA9B,EAFC,cAOH,6CAlBN,CAuBIa,cAAc,CAACK,GAAf,CAAmB,SAACd,IAAD,CAAU,CAC3B,GAAQG,YAAR,CAA4EH,IAA5E,CAAQG,WAAR,CAAqBY,QAArB,CAA4Ef,IAA5E,CAAqBe,QAArB,CAA+BX,KAA/B,CAA4EJ,IAA5E,CAA+BI,KAA/B,CAAsCF,KAAtC,CAA4EF,IAA5E,CAAsCE,KAAtC,CAA6Cc,GAA7C,CAA4EhB,IAA5E,CAA6CgB,GAA7C,CAAkDC,QAAlD,CAA4EjB,IAA5E,CAAkDiB,QAAlD,CAA4DC,WAA5D,CAA4ElB,IAA5E,CAA4DkB,WAA5D,CACA,mBACE,aAAK,EAAE,CAAC,UAAR,wBACE,oBAAKhB,KAAL,EADF,cAEE,qCAAiBC,WAAjB,GAFF,cAGE,+BAAWC,KAAX,GAHF,cAIE,kCAAcW,QAAd,GAJF,cAKE,sCAAkBG,WAAW,CAAG,KAAH,CAAU,IAAvC,GALF,CAOID,QAAQ,cACN,sCACE,KAAC,IAAD,EAAM,EAAE,kBAAYD,GAAZ,CAAR,uBAA2B,gCAA3B,EADF,EADM,cAMN,KAAC,IAAD,EAAM,EAAE,kBAAYA,GAAZ,CAAR,uBAA2B,gCAA3B,EAbN,GAAwBA,GAAxB,CADF,CAmBD,CArBD,CAvBJ,GAHF,CAmDD,CA/ED,CAiFA,cAAetB,MAAf"},"metadata":{},"sourceType":"module"}