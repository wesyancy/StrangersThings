{"ast":null,"code":"import _regeneratorRuntime from\"/Users/wes/Projects/Programming/Week13/strangers-things/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/wes/Projects/Programming/Week13/strangers-things/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/wes/Projects/Programming/Week13/strangers-things/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useParams,useNavigate}from'react-router-dom';import{updatePost}from'../api';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditPost=function EditPost(_ref){var posts=_ref.posts,token=_ref.token;var _useParams=useParams(),postID=_useParams.postID;var _posts$filter=posts.filter(function(post){return post._id===postID;}),_posts$filter2=_slicedToArray(_posts$filter,1),currentPost=_posts$filter2[0];var title=currentPost.title,description=currentPost.description,location=currentPost.location,price=currentPost.price,willDeliver=currentPost.willDeliver;var _useState=useState(title),_useState2=_slicedToArray(_useState,2),newTitle=_useState2[0],setNewTitle=_useState2[1];var _useState3=useState(description),_useState4=_slicedToArray(_useState3,2),newDescription=_useState4[0],setNewDesc=_useState4[1];var _useState5=useState(location),_useState6=_slicedToArray(_useState5,2),newLocation=_useState6[0],setNewLocation=_useState6[1];var _useState7=useState(price),_useState8=_slicedToArray(_useState7,2),newPrice=_useState8[0],setNewPrice=_useState8[1];var _useState9=useState(willDeliver),_useState10=_slicedToArray(_useState9,2),newWillDeliver=_useState10[0],setNewWillDeliver=_useState10[1];var navigate=useNavigate();function editPost(){return _editPost.apply(this,arguments);}function _editPost(){_editPost=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var updatedPost;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:updatedPost={token:token,title:newTitle,description:newDescription,location:newLocation,price:newPrice,willDeliver:newWillDeliver,_id:postID};_context.next=3;return updatePost(updatedPost);case 3:case\"end\":return _context.stop();}}},_callee);}));return _editPost.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(ev){ev.preventDefault();editPost();},children:[/*#__PURE__*/_jsx(\"input\",{id:\"createTitle\",type:\"text\",placeholder:title,onChange:function onChange(ev){return setNewTitle(ev.target.value);}}),/*#__PURE__*/_jsx(\"input\",{id:\"createDescription\",type:\"text\",placeholder:description,onChange:function onChange(ev){return setNewDesc(ev.target.value);}}),/*#__PURE__*/_jsx(\"input\",{id:\"createLocation\",type:\"text\",placeholder:location,onChange:function onChange(ev){return setNewLocation(ev.target.value);}}),/*#__PURE__*/_jsx(\"input\",{id:\"createPrice\",type:\"text\",placeholder:price,onChange:function onChange(ev){return setNewPrice(ev.target.value);}}),/*#__PURE__*/_jsx(\"input\",{id:\"createWD\",type:\"checkbox\",checked:newWillDeliver,onChange:function onChange(ev){return setNewWillDeliver(ev.target.checked);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Confirm Edit Post\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return navigate(\"/profile\");},children:\"Go to Profile\"})]});};export default EditPost;","map":{"version":3,"names":["React","useState","useParams","useNavigate","updatePost","EditPost","posts","token","postID","filter","post","_id","currentPost","title","description","location","price","willDeliver","newTitle","setNewTitle","newDescription","setNewDesc","newLocation","setNewLocation","newPrice","setNewPrice","newWillDeliver","setNewWillDeliver","navigate","editPost","updatedPost","ev","preventDefault","target","value","checked"],"sources":["/Users/wes/Projects/Programming/Week13/strangers-things/src/components/EditPost.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { updatePost } from '../api';\n\nconst EditPost = ({ posts, token }) => {\n  const { postID } = useParams();\n  const [currentPost] = posts.filter(post => post._id === postID);\n  const {title, description, location, price, willDeliver} = currentPost;\n  const [newTitle, setNewTitle] = useState(title);\n  const [newDescription, setNewDesc] = useState(description);\n  const [newLocation, setNewLocation] = useState(location);\n  const [newPrice, setNewPrice] = useState(price);\n  const [newWillDeliver, setNewWillDeliver] = useState(willDeliver);\n  const navigate = useNavigate();\n  \n  async function editPost() {\n    const updatedPost = {\n      token: token,\n      title: newTitle,\n      description: newDescription,\n      location: newLocation,\n      price: newPrice,\n      willDeliver: newWillDeliver,\n      _id: postID\n    }\n    await updatePost(updatedPost)\n  }\n  \n  \n  return (\n    <form onSubmit={ (ev) => {\n      ev.preventDefault();\n      editPost();\n      \n    }}>\n      <input \n        id='createTitle'\n        type='text'\n        placeholder={title}\n        onChange={(ev) => setNewTitle(ev.target.value)}\n      />\n      <input \n        id='createDescription'\n        type='text'\n        placeholder={description}\n        onChange={(ev) => setNewDesc(ev.target.value)}\n      />\n      <input \n        id='createLocation'\n        type='text'\n        placeholder={location}\n        onChange={(ev) => setNewLocation(ev.target.value)}\n      />\n      <input \n        id='createPrice'\n        type='text'\n        placeholder={price}\n        onChange={(ev) => setNewPrice(ev.target.value)}\n      />\n      <input \n        id='createWD'\n        type='checkbox'\n        checked={newWillDeliver}\n        onChange={(ev) => setNewWillDeliver(ev.target.checked)}\n      />\n      <br></br>\n      <button type='submit'>Confirm Edit Post</button>\n      <button onClick={() => navigate(`/profile`)}>Go to Profile</button>\n    </form>\n  )\n}\n\nexport default EditPost;"],"mappings":"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"},"metadata":{},"sourceType":"module"}