{"ast":null,"code":"import React,{useEffect}from'react';import{Link}from'react-router-dom';import{deletePost}from'../api';// import { getMe } from '../index'\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Profile=function Profile(_ref){var user=_ref.user,token=_ref.token,_id=_ref._id;var messages=user.messages;var posts=user.posts;var userID=user._id;var profunction=function profunction(token,_id){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Your Posts\"}),posts&&posts.map(function(post){// const fromUserID = posts.fromUser._id\n// const {username} = posts.fromUser;\nvar title=post.title;var price=post.price;var description=post.description;var location=post.location;var willDeliver=post.willDeliver;if(post.active===true){return/*#__PURE__*/_jsxs(\"div\",{id:\"notecard\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Title: \",title]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Description: \",description]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Price: \",price]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Location: \",location]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Will Deliver: \",willDeliver]}),/*#__PURE__*/_jsx(Link,{to:\"/posts/\".concat(post._id),children:/*#__PURE__*/_jsx(\"button\",{children:\"View Post\"})}),/*#__PURE__*/_jsx(Link,{to:\"/posts/edit-post/\".concat(post._id),children:/*#__PURE__*/_jsx(\"button\",{children:\"Edit Post\"})}),/*#__PURE__*/_jsx(\"button\",{id:\"delete\",onClick:function onClick(){deletePost(token,post._id);},children:\"Delete Post\"})]},post._id);}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Messages Received\"}),messages&&messages.map(function(message){var fromUserID=message.fromUser._id;var username=message.fromUser.username;var title=message.post.title;if(userID!==fromUserID){return/*#__PURE__*/_jsxs(\"div\",{id:\"notecard\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"From User: \",username,\" \"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Message: \",message.content]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Post Reference: \",title]})]},message._id);}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Messages Sent\"}),messages&&messages.map(function(message){var fromUserID=message.fromUser._id;var username=message.fromUser.username;var title=message.post.title;if(userID===fromUserID){// console.log (messages)\nreturn/*#__PURE__*/_jsxs(\"div\",{id:\"notecard\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Item: \",title]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Message: \",message.content]})]},message._id);}})]})]});};useEffect(function(){profunction(token,_id);console.log('refreshed');},[user]);return profunction(token,_id);// console.log(user)\n};export default Profile;","map":{"version":3,"names":["React","useEffect","Link","deletePost","Profile","user","token","_id","messages","posts","userID","profunction","map","post","title","price","description","location","willDeliver","active","message","fromUserID","fromUser","username","content","console","log"],"sources":["/Users/wes/Projects/Programming/Week13/strangers-things/src/components/Profile.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { deletePost } from '../api';\n// import { getMe } from '../index'\n\nconst Profile = ({ user, token, _id }) => {\n  const messages = user.messages;\n  const posts = user.posts;\n  const userID = user._id;\n\n  const profunction = (token, _id ) => {\n    return (\n      <div>\n  \n        <div>\n          <h1>Your Posts</h1>\n          {\n            posts && posts.map(post => {\n              // const fromUserID = posts.fromUser._id\n              // const {username} = posts.fromUser;\n              const title = post.title;\n              const price = post.price;\n              const description = post.description;\n              const location = post.location;\n              const willDeliver = post.willDeliver;\n  \n              if (post.active === true) {\n                return (\n  \n                  <div \n                    id='notecard'\n                    key={post._id}>\n                    <p>Title: {title}</p>\n                    <p>Description: {description}</p>\n                    <p>Price: {price}</p>\n                    <p>Location: {location}</p>\n                    <p>Will Deliver: {willDeliver}</p>\n                    <Link to={`/posts/${post._id}`}><button>View Post</button></Link>\n                    <Link to={`/posts/edit-post/${post._id}`}><button>Edit Post</button></Link>\n                    <button \n                      id='delete'\n                      onClick={() => {\n                      deletePost(token, post._id)\n                    }}>Delete Post</button>\n                  </div>\n  \n                )\n              }\n            })\n          }\n        </div>\n  \n        <div>\n          <h1>Messages Received</h1>\n          {\n            messages && messages.map(message => {\n  \n              const fromUserID = message.fromUser._id;\n              const { username } = message.fromUser;\n              const { title } = message.post;\n  \n              if (userID !== fromUserID) {\n  \n                return (\n  \n                  <div \n                    id='notecard'\n                    key={message._id}>\n                    <p>From User: {username} </p>\n                    <p>Message: {message.content}</p>\n                    <p>Post Reference: {title}</p>\n                  </div>\n  \n                )\n              }\n            })\n          }\n  \n        </div>\n  \n        <div>\n          <h1>Messages Sent</h1>\n          {\n            messages && messages.map(message => {\n  \n              const fromUserID = message.fromUser._id;\n              const { username } = message.fromUser;\n              const { title } = message.post;\n  \n              if (userID === fromUserID) {\n  \n                // console.log (messages)\n  \n                return (\n  \n                  <div \n                    id='notecard' \n                    key={message._id}>\n                    <p>Item: {title}</p>\n                    <p>Message: {message.content}</p>\n                  </div>\n  \n                )\n              }\n            })\n          }\n        </div>\n  \n      </div>\n    )\n  }\n\n  useEffect(() => {\n    profunction(token, _id)\n    console.log('refreshed')\n  }, [user])\n\n  return profunction(token, _id) // console.log(user)\n\n  \n}\n\nexport default Profile;"],"mappings":"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"},"metadata":{},"sourceType":"module"}